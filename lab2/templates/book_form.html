{% extends 'base.html' %}
{% block content %}
<h2 class="mb-3">{{ 'Изменить книгу' if book else 'Добавить книгу' }}</h2>
<form method="post" class="row g-3">
  <div class="col-md-6">
    <label class="form-label">Название</label>
    <input class="form-control" name="title" value="{{ book.title if book else '' }}" required>
  </div>
  <div class="col-md-6">
    <label class="form-label">Издательство (название)</label>
    <input class="form-control" name="publisher" value="{{ book.publisher.name if book and book.publisher else '' }}" placeholder="Например: Наука">
  </div>
  <div class="col-md-3">
    <label class="form-label">Год</label>
    <input type="number" class="form-control" name="year" value="{{ book.year if book else '' }}" min="1500" max="2100">
  </div>
  <div class="col-md-3">
    <label class="form-label">Страницы</label>
    <input type="number" class="form-control" name="pages" value="{{ book.pages if book else '' }}" min="1">
  </div>
  <div class="col-md-3">
    <label class="form-label">Иллюстрации</label>
    <input type="number" class="form-control" name="illustrations" value="{{ book.illustrations if book else 0 }}" min="0">
  </div>
  <div class="col-md-3">
    <label class="form-label">Цена</label>
    <input type="number" step="0.01" class="form-control" name="price" value="{{ book.price if book else '' }}" min="0">
  </div>
  <div class="col-12">
    <label class="form-label">Авторы (через запятую)</label>
    <input class="form-control" name="authors" value="{{ authors }}" placeholder="Иванов И.И., Петров П.П.">
  </div>
  <div class="col-12">
    <button class="btn btn-primary">Сохранить</button>
    <a class="btn btn-secondary" href="{{ url_for('books_list') }}">Отмена</a>
  </div>
</form>
{% endblock %}
